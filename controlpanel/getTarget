<%
domainId = args.domainId
targetId = args.targetId

targets = asxml(url('/' + domainId + '.domain')).domain.targetId
exists = False
for m in targets:
  if m == targetId:
    exists = True
    break

if not exists:
  include('/saharageterror?errorCode=idDoesNotExist')
else:
  type('text/xml; charset=utf-8')
%><?xml version="1.0" encoding="UTF-8"?>
<saharaget xmlns="http://sahara.cq2.org/xsd/saharaget.xsd">
<%
  include('/saharagetTime')
%>
 <request>
  <verb>GetTarget</verb>
  <domainId><% escape_xml(domainId) %></domainId>
  <targetId><% escape_xml(targetId) %></targetId>
 </request>
 <GetTarget>
<%
  m = asxml(url('/' + targetId + '.target'))
  m.target.xml(req)
%>
 </GetTarget>
</saharaget><%
#
%>