<%
domainId = args.domainId
type('text/xml; charset=utf-8')
%><?xml version="1.0" encoding="UTF-8"?>
<saharaget xmlns="http://sahara.cq2.org/xsd/saharaget.xsd">
<%
include('/saharagetTime')
%>
 <request>
  <verb>GetRepositoryGroups</verb>
  <domainId><% escape_xml(domainId) %></domainId>
 </request>
 <GetRepositoryGroups>
<%
groupIds = xpath(aslxml(url('/' + domainId + '.domain')).getroot(), 'repositoryGroupId/text()')
for id in groupIds:
  repositoryGroup = aslxml(url('/' + domainId + '.' + id + '.repositoryGroup')).getroot()
  req.write(lxmltostring(repositoryGroup, pretty_print=True))
# for
%>
 </GetRepositoryGroups>
</saharaget>